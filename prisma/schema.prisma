generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Request {
  id              String   @id
  author_id       String
  target_id       String
  guild_id        String
  reason          String
  punishment_type String
  status          String   @default("pending")
  created_at      DateTime @default(now())
  duration        Int?
}

model Message {
  id           String   @id
  author_id    String
  channel_id   String
  guild_id     String
  /// Epoch timestamp in milliseconds
  created_at   DateTime
  content      String?
  sticker_id   String?
  /// ID of the message this message is replying to
  reference_id String?
  category_id  String?
  deleted      Boolean  @default(false)
}

model Infraction {
  id                Int       @id @default(autoincrement())
  guild_id          String
  action            String
  executor_id       String
  target_id         String
  reason            String
  created_at        DateTime  @default(now())
  flag              String?
  request_author_id String?
  expires_at        DateTime?
  updated_at        DateTime?
  updated_by        String?
  archived_at       DateTime?
  archived_by       String?
}